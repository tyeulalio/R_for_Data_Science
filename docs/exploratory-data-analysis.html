<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Exploratory Data Analysis | Working Through R for Data Science</title>
  <meta name="description" content="This book goes through the chapters and exercises of the R for Data Science Book" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Exploratory Data Analysis | Working Through R for Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book goes through the chapters and exercises of the R for Data Science Book" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Exploratory Data Analysis | Working Through R for Data Science" />
  
  <meta name="twitter:description" content="This book goes through the chapters and exercises of the R for Data Science Book" />
  

<meta name="author" content="Tiffany Eulalio" />


<meta name="date" content="2021-08-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="workflow-scripts.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a></li>
<li class="chapter" data-level="2" data-path="ch-1-and-2.html"><a href="ch-1-and-2.html"><i class="fa fa-check"></i><b>2</b> Chapters 1 and 2</a></li>
<li class="chapter" data-level="3" data-path="data-vizualization.html"><a href="data-vizualization.html"><i class="fa fa-check"></i><b>3</b> Data Visualization</a><ul>
<li class="chapter" data-level="3.1" data-path="data-vizualization.html"><a href="data-vizualization.html#skipping-this-section"><i class="fa fa-check"></i><b>3.1</b> Skipping this section</a></li>
<li class="chapter" data-level="3.2" data-path="data-vizualization.html"><a href="data-vizualization.html#first-steps"><i class="fa fa-check"></i><b>3.2</b> First Steps</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-vizualization.html"><a href="data-vizualization.html#the-mpg-data-frame"><i class="fa fa-check"></i><b>3.2.1</b> The <code>mpg</code> data frame</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-vizualization.html"><a href="data-vizualization.html#creating-a-ggplot"><i class="fa fa-check"></i><b>3.2.2</b> Creating a ggplot</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-vizualization.html"><a href="data-vizualization.html#notes-on-ggplot"><i class="fa fa-check"></i><b>3.2.3</b> Notes on <code>ggplot</code></a></li>
<li class="chapter" data-level="3.2.4" data-path="data-vizualization.html"><a href="data-vizualization.html#exercises"><i class="fa fa-check"></i><b>3.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-vizualization.html"><a href="data-vizualization.html#aesthetic-mappings"><i class="fa fa-check"></i><b>3.3</b> Aesthetic mappings</a><ul>
<li class="chapter" data-level="3.3.1" data-path="data-vizualization.html"><a href="data-vizualization.html#exercises-1"><i class="fa fa-check"></i><b>3.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-vizualization.html"><a href="data-vizualization.html#skipping-this-section-1"><i class="fa fa-check"></i><b>3.4</b> Skipping this section</a></li>
<li class="chapter" data-level="3.5" data-path="data-vizualization.html"><a href="data-vizualization.html#facets"><i class="fa fa-check"></i><b>3.5</b> Facets</a><ul>
<li class="chapter" data-level="3.5.1" data-path="data-vizualization.html"><a href="data-vizualization.html#exercises-2"><i class="fa fa-check"></i><b>3.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-vizualization.html"><a href="data-vizualization.html#geometric-objects"><i class="fa fa-check"></i><b>3.6</b> Geometric Objects</a><ul>
<li class="chapter" data-level="3.6.1" data-path="data-vizualization.html"><a href="data-vizualization.html#exercises-3"><i class="fa fa-check"></i><b>3.6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-vizualization.html"><a href="data-vizualization.html#statistical-transformations"><i class="fa fa-check"></i><b>3.7</b> Statistical transformations</a><ul>
<li class="chapter" data-level="3.7.1" data-path="data-vizualization.html"><a href="data-vizualization.html#exercises-4"><i class="fa fa-check"></i><b>3.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-vizualization.html"><a href="data-vizualization.html#position-adjustments"><i class="fa fa-check"></i><b>3.8</b> Position adjustments</a><ul>
<li class="chapter" data-level="3.8.1" data-path="data-vizualization.html"><a href="data-vizualization.html#exercises-5"><i class="fa fa-check"></i><b>3.8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="data-vizualization.html"><a href="data-vizualization.html#coordinate-systems"><i class="fa fa-check"></i><b>3.9</b> Coordinate Systems</a><ul>
<li class="chapter" data-level="3.9.1" data-path="data-vizualization.html"><a href="data-vizualization.html#exercises-6"><i class="fa fa-check"></i><b>3.9.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="data-vizualization.html"><a href="data-vizualization.html#the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>3.10</b> The layered grammar of graphics</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflow-basics.html"><a href="workflow-basics.html"><i class="fa fa-check"></i><b>4</b> Workflow: basics</a></li>
<li class="chapter" data-level="5" data-path="data-transformations.html"><a href="data-transformations.html"><i class="fa fa-check"></i><b>5</b> Data transformations</a><ul>
<li class="chapter" data-level="5.1" data-path="data-transformations.html"><a href="data-transformations.html#introduction"><i class="fa fa-check"></i><b>5.1</b> Introduction</a><ul>
<li class="chapter" data-level="5.1.1" data-path="data-transformations.html"><a href="data-transformations.html#prerequisites"><i class="fa fa-check"></i><b>5.1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-transformations.html"><a href="data-transformations.html#nycflights13"><i class="fa fa-check"></i><b>5.1.2</b> nycflights13</a></li>
<li class="chapter" data-level="5.1.3" data-path="data-transformations.html"><a href="data-transformations.html#dplyr-basics"><i class="fa fa-check"></i><b>5.1.3</b> dplyr basics</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-transformations.html"><a href="data-transformations.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>5.2</b> Filter rows with <code>filter()</code></a><ul>
<li class="chapter" data-level="5.2.1" data-path="data-transformations.html"><a href="data-transformations.html#skip-section"><i class="fa fa-check"></i><b>5.2.1</b> Skip section</a></li>
<li class="chapter" data-level="5.2.2" data-path="data-transformations.html"><a href="data-transformations.html#logical-operators"><i class="fa fa-check"></i><b>5.2.2</b> Logical operators</a></li>
<li class="chapter" data-level="5.2.3" data-path="data-transformations.html"><a href="data-transformations.html#missing-values"><i class="fa fa-check"></i><b>5.2.3</b> Missing Values</a></li>
<li class="chapter" data-level="5.2.4" data-path="data-transformations.html"><a href="data-transformations.html#exercises-7"><i class="fa fa-check"></i><b>5.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-transformations.html"><a href="data-transformations.html#arrange-rows-with-arrange"><i class="fa fa-check"></i><b>5.3</b> Arrange rows with <code>arrange()</code></a><ul>
<li class="chapter" data-level="5.3.1" data-path="data-transformations.html"><a href="data-transformations.html#exercises-8"><i class="fa fa-check"></i><b>5.3.1</b> 5.3.1 Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-transformations.html"><a href="data-transformations.html#selection-columns-with-select"><i class="fa fa-check"></i><b>5.4</b> Selection columns with <code>select()</code></a><ul>
<li class="chapter" data-level="5.4.1" data-path="data-transformations.html"><a href="data-transformations.html#exercises-9"><i class="fa fa-check"></i><b>5.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-transformations.html"><a href="data-transformations.html#add-new-variables-with-mutate"><i class="fa fa-check"></i><b>5.5</b> Add new variables with <code>mutate()</code></a><ul>
<li class="chapter" data-level="5.5.1" data-path="data-transformations.html"><a href="data-transformations.html#useful-creation-functions"><i class="fa fa-check"></i><b>5.5.1</b> Useful creation functions</a></li>
<li class="chapter" data-level="5.5.2" data-path="data-transformations.html"><a href="data-transformations.html#exercises-10"><i class="fa fa-check"></i><b>5.5.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="data-transformations.html"><a href="data-transformations.html#grouped-summaries-with-summarise"><i class="fa fa-check"></i><b>5.6</b> 5.6 Grouped summaries with <code>summarise()</code></a><ul>
<li class="chapter" data-level="5.6.1" data-path="data-transformations.html"><a href="data-transformations.html#combining-multiple-operations-with-the-pipe"><i class="fa fa-check"></i><b>5.6.1</b> Combining multiple operations with the pipe</a></li>
<li class="chapter" data-level="5.6.2" data-path="data-transformations.html"><a href="data-transformations.html#missing-values-1"><i class="fa fa-check"></i><b>5.6.2</b> Missing values</a></li>
<li class="chapter" data-level="5.6.3" data-path="data-transformations.html"><a href="data-transformations.html#counts"><i class="fa fa-check"></i><b>5.6.3</b> Counts</a></li>
<li class="chapter" data-level="5.6.4" data-path="data-transformations.html"><a href="data-transformations.html#useful-summary-functions"><i class="fa fa-check"></i><b>5.6.4</b> Useful summary functions</a></li>
<li class="chapter" data-level="5.6.5" data-path="data-transformations.html"><a href="data-transformations.html#grouping-by-multiple-variables"><i class="fa fa-check"></i><b>5.6.5</b> Grouping by multiple variables</a></li>
<li class="chapter" data-level="5.6.6" data-path="data-transformations.html"><a href="data-transformations.html#ungrouping"><i class="fa fa-check"></i><b>5.6.6</b> Ungrouping</a></li>
<li class="chapter" data-level="5.6.7" data-path="data-transformations.html"><a href="data-transformations.html#exercises-11"><i class="fa fa-check"></i><b>5.6.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="data-transformations.html"><a href="data-transformations.html#grouped-mutates-and-filters"><i class="fa fa-check"></i><b>5.7</b> Grouped mutates (and filters)</a><ul>
<li class="chapter" data-level="5.7.1" data-path="data-transformations.html"><a href="data-transformations.html#exercises-12"><i class="fa fa-check"></i><b>5.7.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="workflow-scripts.html"><a href="workflow-scripts.html"><i class="fa fa-check"></i><b>6</b> Workflow Scripts</a></li>
<li class="chapter" data-level="7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>7</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="7.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#skip-section-1"><i class="fa fa-check"></i><b>7.1</b> Skip section</a></li>
<li class="chapter" data-level="7.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#questions"><i class="fa fa-check"></i><b>7.2</b> Questions</a></li>
<li class="chapter" data-level="7.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#variation"><i class="fa fa-check"></i><b>7.3</b> Variation</a><ul>
<li class="chapter" data-level="7.3.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualising-distributions"><i class="fa fa-check"></i><b>7.3.1</b> Visualising distributions</a></li>
<li class="chapter" data-level="7.3.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#typical-values"><i class="fa fa-check"></i><b>7.3.2</b> Typical values</a></li>
<li class="chapter" data-level="7.3.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#unusual-values"><i class="fa fa-check"></i><b>7.3.3</b> Unusual values</a></li>
<li class="chapter" data-level="7.3.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#excercises"><i class="fa fa-check"></i><b>7.3.4</b> Excercises</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#missing-values-2"><i class="fa fa-check"></i><b>7.4</b> Missing values</a><ul>
<li class="chapter" data-level="7.4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-13"><i class="fa fa-check"></i><b>7.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#covariation"><i class="fa fa-check"></i><b>7.5</b> Covariation</a><ul>
<li class="chapter" data-level="7.5.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#a-categorical-and-continuous-variable"><i class="fa fa-check"></i><b>7.5.1</b> A categorical and continuous variable</a></li>
<li class="chapter" data-level="7.5.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-categorical-variables"><i class="fa fa-check"></i><b>7.5.2</b> Two Categorical variables</a></li>
<li class="chapter" data-level="7.5.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-continuous-variables"><i class="fa fa-check"></i><b>7.5.3</b> Two continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#skip-section-2"><i class="fa fa-check"></i><b>7.6</b> Skip section</a></li>
<li class="chapter" data-level="7.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#skip-section-3"><i class="fa fa-check"></i><b>7.7</b> Skip section</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Working Through R for Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exploratory-data-analysis" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> Exploratory Data Analysis</h1>
<div id="skip-section-1" class="section level2">
<h2><span class="header-section-number">7.1</span> Skip section</h2>
</div>
<div id="questions" class="section level2">
<h2><span class="header-section-number">7.2</span> Questions</h2>
<p>Two important questions to guide your data exploration:</p>
<ol style="list-style-type: decimal">
<li>What type of variation occurs within my variables?</li>
<li>What type of covariation occurs between my variables?</li>
</ol>
</div>
<div id="variation" class="section level2">
<h2><span class="header-section-number">7.3</span> Variation</h2>
<p><em>Variation</em> is the tendency of the values of a variable to change from measurement to measurement. The best way to understand pattern is to visualise the distribution of the variable’s values.</p>
<div id="visualising-distributions" class="section level3">
<h3><span class="header-section-number">7.3.1</span> Visualising distributions</h3>
<p>How you visualise the distribution of a variable depends on whether the variable is categorical or continuous. To examin the distribution of categorical variables, use a var chart:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="exploratory-data-analysis.html#cb2-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) <span class="op">+</span></span>
<span id="cb2-2"><a href="exploratory-data-analysis.html#cb2-2"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> cut))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>The height of the bars displays how many observations occurred with each x value. You can also compute this number manually using <code>dplyr::count()</code></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="exploratory-data-analysis.html#cb3-1"></a>diamonds <span class="op">%&gt;%</span></span>
<span id="cb3-2"><a href="exploratory-data-analysis.html#cb3-2"></a><span class="st">  </span><span class="kw">count</span>(cut)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   cut           n
##   &lt;ord&gt;     &lt;int&gt;
## 1 Fair       1610
## 2 Good       4906
## 3 Very Good 12082
## 4 Premium   13791
## 5 Ideal     21551</code></pre>
<p>To examine the distribution of a continuous variable, use a histogram:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="exploratory-data-analysis.html#cb5-1"></a><span class="kw">ggplot</span>(<span class="dt">data=</span>diamonds) <span class="op">+</span></span>
<span id="cb5-2"><a href="exploratory-data-analysis.html#cb5-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>carat), <span class="dt">binwidth=</span><span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>You can compute this by hand by combining <code>dplyr::count()</code> and <code>ggplot2::cut_width()</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="exploratory-data-analysis.html#cb6-1"></a>diamonds <span class="op">%&gt;%</span></span>
<span id="cb6-2"><a href="exploratory-data-analysis.html#cb6-2"></a><span class="st">  </span><span class="kw">count</span>(<span class="kw">cut_width</span>(carat, <span class="fl">0.5</span>))</span></code></pre></div>
<pre><code>## # A tibble: 11 x 2
##    `cut_width(carat, 0.5)`     n
##    &lt;fct&gt;                   &lt;int&gt;
##  1 [-0.25,0.25]              785
##  2 (0.25,0.75]             29498
##  3 (0.75,1.25]             15977
##  4 (1.25,1.75]              5313
##  5 (1.75,2.25]              2002
##  6 (2.25,2.75]               322
##  7 (2.75,3.25]                32
##  8 (3.25,3.75]                 5
##  9 (3.75,4.25]                 4
## 10 (4.25,4.75]                 1
## 11 (4.75,5.25]                 1</code></pre>
<p>You should always play with different binwidths when making histograms, as different binwidths can reveal different patterns.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="exploratory-data-analysis.html#cb8-1"></a><span class="co"># take only the diamonds with less than 3 carats</span></span>
<span id="cb8-2"><a href="exploratory-data-analysis.html#cb8-2"></a>smaller &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span></span>
<span id="cb8-3"><a href="exploratory-data-analysis.html#cb8-3"></a><span class="st">  </span><span class="kw">filter</span>(carat <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span>)</span>
<span id="cb8-4"><a href="exploratory-data-analysis.html#cb8-4"></a></span>
<span id="cb8-5"><a href="exploratory-data-analysis.html#cb8-5"></a><span class="kw">ggplot</span>(<span class="dt">data=</span>smaller, <span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">x=</span>carat)) <span class="op">+</span></span>
<span id="cb8-6"><a href="exploratory-data-analysis.html#cb8-6"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>If you wish to overlay multiple histograms in the same plot, use <code>geom_freqpoly()</code> instead of <code>geom_histogram()</code>. <code>geom_freqpoly()</code> performs the same calculation as <code>geom_histogram()</code>, but instead of displaying the counts with bars, uses lines instead. It’s much easier to understand overlapping lines than bars.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="exploratory-data-analysis.html#cb9-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> smaller, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>carat, <span class="dt">colour =</span> cut)) <span class="op">+</span></span>
<span id="cb9-2"><a href="exploratory-data-analysis.html#cb9-2"></a><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">binwidth =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="typical-values" class="section level3">
<h3><span class="header-section-number">7.3.2</span> Typical values</h3>
<p>Asking questions about the frequency of values are useful in data exploration. You can look for anything unexpected with questions like:</p>
<ul>
<li>which values are the most common? why?</li>
<li>which values are rare? why? does that match your expectations?</li>
<li>can you see any unusual patterns? what might explain them?</li>
</ul>
<p>As an example, the histogram below suggests several intersting questions:</p>
<ul>
<li>why are there more diamonds at whole carats and common fractions of carats?</li>
<li>why are there more diamonds slightly to the right of each peak than there are slightly to the left of each peak?</li>
<li>why are there no diamonds bigger than 3 carats?</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="exploratory-data-analysis.html#cb10-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> smaller, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat)) <span class="op">+</span></span>
<span id="cb10-2"><a href="exploratory-data-analysis.html#cb10-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">0.01</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Clusters of similar values suggest that subgroups exist in your data. To understand the subgroups, ask:</p>
<ul>
<li>how are the observations within each cluster similar to each other?</li>
<li>how are the observations in separate clusters different from each other?</li>
<li>how can you explain or describe the clusters?</li>
<li>why might the appearance of clusters be misleading?</li>
</ul>
<p>The histogram below shows the length (in minutes) of 272 eruptions of the Old Faithful Geyser in Yellowstone National Park. Eruption times appear to be clustered into two groups: there are short eruptions (of around 2 minutes) and long eruptions (4-5 minutes), but little in between.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="exploratory-data-analysis.html#cb11-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> faithful, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> eruptions)) <span class="op">+</span></span>
<span id="cb11-2"><a href="exploratory-data-analysis.html#cb11-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">0.25</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>Many of the questions above will prompt you to explore a relationship between variables.</p>
</div>
<div id="unusual-values" class="section level3">
<h3><span class="header-section-number">7.3.3</span> Unusual values</h3>
<p>Sometimes outliers are difficult to spot on histograms. Take the distribution of the y variable from the diamonds dataset. The only evidence of outliers is the unusually wide limits on the x-axis.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="exploratory-data-analysis.html#cb12-1"></a><span class="kw">ggplot</span>(diamonds) <span class="op">+</span></span>
<span id="cb12-2"><a href="exploratory-data-analysis.html#cb12-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> y), <span class="dt">binwidth =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>There are so many observations in the common binds, that the rare bins are so short that you can’t see them. To make things easier to see, we can zoom into the small values of the y-axi using <code>cood_cartesian()</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="exploratory-data-analysis.html#cb13-1"></a><span class="kw">ggplot</span>(diamonds) <span class="op">+</span></span>
<span id="cb13-2"><a href="exploratory-data-analysis.html#cb13-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>y), <span class="dt">binwidth=</span><span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb13-3"><a href="exploratory-data-analysis.html#cb13-3"></a><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">50</span>))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p><code>coord_cartesian()</code> also has an <code>xlim()</code> argument to zoom into the x-axis. ggplot2 also has <code>xlim()</code> and <code>ylim()</code> functions that work slightly differently and throw away the data outside the limits.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="exploratory-data-analysis.html#cb14-1"></a><span class="kw">ggplot</span>(diamonds) <span class="op">+</span></span>
<span id="cb14-2"><a href="exploratory-data-analysis.html#cb14-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>y), </span>
<span id="cb14-3"><a href="exploratory-data-analysis.html#cb14-3"></a>                 <span class="dt">binwidth=</span><span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb14-4"><a href="exploratory-data-analysis.html#cb14-4"></a><span class="st">  </span><span class="kw">ylim</span>(<span class="dv">0</span>, <span class="dv">50</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 11 rows containing missing values (geom_bar).</code></pre>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>You can see that the data has been removed when using the ggplot2 <code>ylim</code> function.</p>
<p>There appears to be three unusual values: 0, ~30, and ~60. We pluck them out with dplyr:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="exploratory-data-analysis.html#cb16-1"></a>unusual &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span></span>
<span id="cb16-2"><a href="exploratory-data-analysis.html#cb16-2"></a><span class="st">  </span><span class="kw">filter</span>(y <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span> <span class="op">|</span><span class="st"> </span>y <span class="op">&gt;</span><span class="st"> </span><span class="dv">20</span>) <span class="op">%&gt;%</span></span>
<span id="cb16-3"><a href="exploratory-data-analysis.html#cb16-3"></a><span class="st">  </span><span class="kw">select</span>(price, x, y, z) <span class="op">%&gt;%</span></span>
<span id="cb16-4"><a href="exploratory-data-analysis.html#cb16-4"></a><span class="st">  </span><span class="kw">arrange</span>(y)</span>
<span id="cb16-5"><a href="exploratory-data-analysis.html#cb16-5"></a>unusual</span></code></pre></div>
<pre><code>## # A tibble: 9 x 4
##   price     x     y     z
##   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  5139  0      0    0   
## 2  6381  0      0    0   
## 3 12800  0      0    0   
## 4 15686  0      0    0   
## 5 18034  0      0    0   
## 6  2130  0      0    0   
## 7  2130  0      0    0   
## 8  2075  5.15  31.8  5.12
## 9 12210  8.09  58.9  8.06</code></pre>
<p>The y variable measures one of the three dimensions of these diamonds, in mm. We know that diamonds can’t have a width of 0mm, so these values must be incorrect. We might also suspect that the measurements of 32mm and 59mm are implausible: those diamonds are over an inch long, but don’t cost hundres of thousands of dollars!</p>
<p>It’s good practice to repeat your analysis with and without the outliers. If they have minimal effect on the results, and you can’t figure out why they’re there, it’s reasonable to replace them with missing values, and move on. However, if they have a substantial effect on your results, you shouldn’t drop them without justification. You’ll need to figure out what caused them (e.g. a data entry error) and disclose that you removed them in your write-up.</p>
</div>
<div id="excercises" class="section level3">
<h3><span class="header-section-number">7.3.4</span> Excercises</h3>
<ol style="list-style-type: decimal">
<li>Explore the distribution of each of the x, y, and z variables in <code>diamonds</code>. What do you learn? Think about a diamond and how you might decide which dimension is the length, width, and depth.</li>
</ol>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="exploratory-data-analysis.html#cb18-1"></a>diamonds <span class="op">%&gt;%</span></span>
<span id="cb18-2"><a href="exploratory-data-analysis.html#cb18-2"></a><span class="st">  </span><span class="kw">gather</span>(<span class="dt">key=</span><span class="st">&#39;dimension&#39;</span>, <span class="dt">value=</span><span class="st">&#39;value&#39;</span>, x<span class="op">:</span>z) <span class="op">%&gt;%</span></span>
<span id="cb18-3"><a href="exploratory-data-analysis.html#cb18-3"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb18-4"><a href="exploratory-data-analysis.html#cb18-4"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x=</span>value,</span>
<span id="cb18-5"><a href="exploratory-data-analysis.html#cb18-5"></a>                 <span class="dt">fill=</span>dimension),</span>
<span id="cb18-6"><a href="exploratory-data-analysis.html#cb18-6"></a>                 <span class="dt">binwidth =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb18-7"><a href="exploratory-data-analysis.html#cb18-7"></a><span class="st">  </span><span class="kw">facet_wrap</span>(. <span class="op">~</span><span class="st"> </span>dimension, <span class="dt">ncol=</span><span class="dv">1</span>) <span class="op">+</span></span>
<span id="cb18-8"><a href="exploratory-data-analysis.html#cb18-8"></a><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">10</span>))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>We see that the z dimension tends to be smaller than the x or y dimensions. The x and y dimensions are similarly distrbuted. We typically see diamonds cut with circular profiles and varying height. We might therefore guess that the width and length are along the x and y axes, while the height is along the z-axis.</p>
<ol start="2" style="list-style-type: decimal">
<li>Explore the distribution of <code>price</code>. Do you discover anything unusual or surprising? (Hint: Carefully think about the <code>binwidth</code> and make sure you try a wide range of values.)</li>
</ol>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="exploratory-data-analysis.html#cb19-1"></a><span class="kw">ggplot</span>(diamonds) <span class="op">+</span></span>
<span id="cb19-2"><a href="exploratory-data-analysis.html#cb19-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x=</span>price), <span class="dt">binwidth =</span> <span class="dv">100</span>) <span class="op">+</span></span>
<span id="cb19-3"><a href="exploratory-data-analysis.html#cb19-3"></a><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">2000</span>))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>There is an interesting gap in the distribution right at 1500 that is visible with binwidth 100.</p>
<ol start="3" style="list-style-type: decimal">
<li>How many diamonds are 0.99 carat? How many are 1 carat? What do you think is the cause of the difference?</li>
</ol>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="exploratory-data-analysis.html#cb20-1"></a><span class="kw">ggplot</span>(diamonds) <span class="op">+</span></span>
<span id="cb20-2"><a href="exploratory-data-analysis.html#cb20-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x=</span>carat)) <span class="op">+</span></span>
<span id="cb20-3"><a href="exploratory-data-analysis.html#cb20-3"></a><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim=</span><span class="kw">c</span>(<span class="fl">0.99</span>, <span class="fl">1.01</span>))</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>There is no difference between diamonds that are 0.99 carat or 1 carat. It is probably difficult to distinguish these categories.</p>
<ol start="4" style="list-style-type: decimal">
<li>Compare and contrast <code>coord_cartesian()</code> vs <code>xlim()</code> or <code>ylim()</code> when zooming in on a histogram. What happens if you leave binwidth unset? What happens if you try and zoom so noly half a bar shows?</li>
</ol>
<p><code>coord_cartesian()</code> will not cut out data if it does not fit in the plot window, whereas <code>xlim()</code> and <code>ylim()</code> will cut out data if it’s entire plotting region is not shown in the window.</p>
</div>
</div>
<div id="missing-values-2" class="section level2">
<h2><span class="header-section-number">7.4</span> Missing values</h2>
<p>You might want to replace missing values in a dataframe with NA values. You can use the <code>ifelse()</code> function to do this.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="exploratory-data-analysis.html#cb22-1"></a>diamonds2 &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span></span>
<span id="cb22-2"><a href="exploratory-data-analysis.html#cb22-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">y =</span> <span class="kw">ifelse</span>(y <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span> <span class="op">|</span><span class="st"> </span>y <span class="op">&gt;</span><span class="st"> </span><span class="dv">20</span>, <span class="ot">NA</span>, y))</span></code></pre></div>
<p>There are three arguments for <code>ifelse()</code>, the first argument <code>test</code> should be a logical vector. The result will contain the value of the second argument <code>yes</code> whe <code>test</code> is TRUE, and the value of the third argument <code>no</code>, when it is false.</p>
<p>Alternatively, you can use <code>dplyr::case_when()</code>, which is particularly usefule inside mutate when you want to create a new variable that relies on a complex combination of existing variables.</p>
<p>Other times, you might want to understand what makes observations with missing values different to observations with recorded values. For example, in <code>nycflights13::flights</code>, missing values in the <code>dep_time</code> variable indicate that the flight was cancelled. So you might want to compare the scheduled departure times for cancelled and non-cancelled times.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="exploratory-data-analysis.html#cb23-1"></a>nycflights13<span class="op">::</span>flights <span class="op">%&gt;%</span></span>
<span id="cb23-2"><a href="exploratory-data-analysis.html#cb23-2"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb23-3"><a href="exploratory-data-analysis.html#cb23-3"></a>    <span class="dt">cancelled =</span> <span class="kw">is.na</span>(dep_time),</span>
<span id="cb23-4"><a href="exploratory-data-analysis.html#cb23-4"></a>    <span class="dt">sched_hour =</span> sched_dep_time <span class="op">%/%</span><span class="st"> </span><span class="dv">100</span>,</span>
<span id="cb23-5"><a href="exploratory-data-analysis.html#cb23-5"></a>    <span class="dt">sched_min =</span> sched_dep_time <span class="op">%%</span><span class="st"> </span><span class="dv">100</span>,</span>
<span id="cb23-6"><a href="exploratory-data-analysis.html#cb23-6"></a>    <span class="dt">sched_dep_time =</span> sched_hour <span class="op">+</span><span class="st"> </span>sched_min <span class="op">/</span><span class="st"> </span><span class="dv">60</span></span>
<span id="cb23-7"><a href="exploratory-data-analysis.html#cb23-7"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb23-8"><a href="exploratory-data-analysis.html#cb23-8"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(sched_dep_time)) <span class="op">+</span></span>
<span id="cb23-9"><a href="exploratory-data-analysis.html#cb23-9"></a><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">colour =</span> cancelled), <span class="dt">binwidth =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">4</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<div id="exercises-13" class="section level3">
<h3><span class="header-section-number">7.4.1</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li>What happens to missing values in a histogram? What happens to missing values in a bar chart? Why is there a difference?</li>
</ol>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="exploratory-data-analysis.html#cb24-1"></a><span class="kw">sum</span>(<span class="kw">is.na</span>(diamonds2<span class="op">$</span>y))</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="exploratory-data-analysis.html#cb26-1"></a><span class="kw">ggplot</span>(diamonds2, <span class="dt">alpha=</span><span class="fl">0.7</span>) <span class="op">+</span></span>
<span id="cb26-2"><a href="exploratory-data-analysis.html#cb26-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x=</span>y), <span class="dt">fill=</span><span class="st">&#39;chocolate1&#39;</span>) <span class="op">+</span></span>
<span id="cb26-3"><a href="exploratory-data-analysis.html#cb26-3"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>y), <span class="dt">fill=</span><span class="st">&#39;cornflowerblue&#39;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 9 rows containing non-finite values (stat_bin).</code></pre>
<pre><code>## Warning: Removed 9 rows containing non-finite values (stat_count).</code></pre>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-19-1.png" width="672" />
In both cases, the missing values are removed with a warning.</p>
<ol start="2" style="list-style-type: decimal">
<li>What does <code>na.rm = TRUE</code> do in <code>mean()</code> and <code>sum()</code>?</li>
</ol>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="exploratory-data-analysis.html#cb30-1"></a><span class="kw">mean</span>(diamonds2<span class="op">$</span>y)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="exploratory-data-analysis.html#cb32-1"></a><span class="kw">mean</span>(diamonds2<span class="op">$</span>y, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 5.733801</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="exploratory-data-analysis.html#cb34-1"></a><span class="kw">sum</span>(diamonds2<span class="op">$</span>y)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="exploratory-data-analysis.html#cb36-1"></a><span class="kw">sum</span>(diamonds2<span class="op">$</span>y, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 309229.6</code></pre>
<p>With both mean and sum, if there are missing values, the output will be NA. When we use <code>na.rm = TRUE</code>, the missing values are removed and we can get a numeric answer returned.</p>
</div>
</div>
<div id="covariation" class="section level2">
<h2><span class="header-section-number">7.5</span> Covariation</h2>
<p>If variation describes the behavior within a variable, covariation describes the behavior between variables. Covariation is the tendency for the values of two or more variables to vary together in a related way. The best way to spot covariation is to visualize the relationship between two or more variables. How you do that should again depend on the type of variables involved.</p>
<div id="a-categorical-and-continuous-variable" class="section level3">
<h3><span class="header-section-number">7.5.1</span> A categorical and continuous variable</h3>
<p>It’s common to want to explore the distribution of a contious variable broken down by a categorical variable, as in the previous frequency polygon. The default appearance of <code>geom_freqpoly()</code> is not that useful for that sort of comparison because the height is given by the count. That means if one of the groups is much smaller than the others, it’s hard to see the differences in shape. For example, let’s explore how the price of a diamond varies with its quality:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="exploratory-data-analysis.html#cb38-1"></a><span class="kw">ggplot</span>(<span class="dt">data=</span>diamonds, <span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">x=</span>price)) <span class="op">+</span></span>
<span id="cb38-2"><a href="exploratory-data-analysis.html#cb38-2"></a><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">colour=</span>cut), <span class="dt">binwidth=</span><span class="dv">500</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>It’s hard to see the difference in distributions because the overall counts differ so much:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="exploratory-data-analysis.html#cb39-1"></a><span class="kw">ggplot</span>(diamonds) <span class="op">+</span></span>
<span id="cb39-2"><a href="exploratory-data-analysis.html#cb39-2"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>cut))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>To make the comparison easier, we can sawp what is displayed on the y-axis. Instead of displaying count, we’ll display density, which is the count standardised so that the area under each frequency polygon is one.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="exploratory-data-analysis.html#cb40-1"></a><span class="kw">ggplot</span>(diamonds, <span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">x=</span>price, <span class="dt">y=</span>..density..)) <span class="op">+</span></span>
<span id="cb40-2"><a href="exploratory-data-analysis.html#cb40-2"></a><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">colour=</span>cut), <span class="dt">binwidth=</span><span class="dv">500</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>Another alternative to display the distribution of a continous variable broken down by a categorical variable is the boxplot. A boxplot is a type of visual shorthand for a distribution of values that is popular among statisticians.</p>
<p>Let’s take a look at the distribution of price by cut using <code>geom_boxplot()</code></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="exploratory-data-analysis.html#cb41-1"></a><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x=</span>cut, <span class="dt">y=</span>price)) <span class="op">+</span></span>
<span id="cb41-2"><a href="exploratory-data-analysis.html#cb41-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>()</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p><code>cut</code> is an ordered factor: fiar is worse than good, which is worse than very good, and so on. Many categorical variables don’t have such an intrinsic order, so you might want to reorder them to make a more informative display. One way to do that is with the <code>reorder()</code> function.</p>
<p>For example, take the <code>class</code> varialbe in the <code>mpg</code> dataset. You might be interested to know how highway mileage varies across classes:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="exploratory-data-analysis.html#cb42-1"></a><span class="kw">ggplot</span>(mpg, <span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">x=</span>class, <span class="dt">y=</span>hwy)) <span class="op">+</span></span>
<span id="cb42-2"><a href="exploratory-data-analysis.html#cb42-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>()</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<p>To make the trend easier to see, we can reorder <code>class</code> based on the median value of <code>hwy</code>:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="exploratory-data-analysis.html#cb43-1"></a><span class="kw">ggplot</span>(<span class="dt">data=</span>mpg) <span class="op">+</span></span>
<span id="cb43-2"><a href="exploratory-data-analysis.html#cb43-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">reorder</span>(class, hwy, <span class="dt">FUN=</span>median), <span class="dt">y=</span>hwy))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<p>If you have long variable names, <code>geom_boxplot()</code> will work better for you if you flip is 90 degrees. You can do that with <code>coord_flip()</code></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="exploratory-data-analysis.html#cb44-1"></a><span class="kw">ggplot</span>(mpg) <span class="op">+</span></span>
<span id="cb44-2"><a href="exploratory-data-analysis.html#cb44-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">reorder</span>(class, hwy, <span class="dt">FUN=</span>median), <span class="dt">y=</span>hwy)) <span class="op">+</span></span>
<span id="cb44-3"><a href="exploratory-data-analysis.html#cb44-3"></a><span class="st">  </span><span class="kw">coord_flip</span>()</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<div id="exercises-14" class="section level4">
<h4><span class="header-section-number">7.5.1.1</span> Exercises</h4>
<ol style="list-style-type: decimal">
<li>Use what you’ve learned to improve the visualization of the departure times of cancelled vs. non-cancelled flights.</li>
</ol>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="exploratory-data-analysis.html#cb45-1"></a>nycflights13<span class="op">::</span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb45-2"><a href="exploratory-data-analysis.html#cb45-2"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb45-3"><a href="exploratory-data-analysis.html#cb45-3"></a>    <span class="dt">cancelled =</span> <span class="kw">is.na</span>(dep_time),</span>
<span id="cb45-4"><a href="exploratory-data-analysis.html#cb45-4"></a>    <span class="dt">sched_hour =</span> sched_dep_time <span class="op">%/%</span><span class="st"> </span><span class="dv">100</span>,</span>
<span id="cb45-5"><a href="exploratory-data-analysis.html#cb45-5"></a>    <span class="dt">sched_min =</span> sched_dep_time <span class="op">%%</span><span class="st"> </span><span class="dv">100</span>,</span>
<span id="cb45-6"><a href="exploratory-data-analysis.html#cb45-6"></a>    <span class="dt">sched_dep_time =</span> sched_hour <span class="op">+</span><span class="st"> </span>sched_min <span class="op">/</span><span class="st"> </span><span class="dv">60</span></span>
<span id="cb45-7"><a href="exploratory-data-analysis.html#cb45-7"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb45-8"><a href="exploratory-data-analysis.html#cb45-8"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>cancelled, <span class="dt">y=</span>sched_dep_time)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb45-9"><a href="exploratory-data-analysis.html#cb45-9"></a><span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">color=</span>cancelled))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<ol start="2" style="list-style-type: decimal">
<li>What variable in the diamonds dataset is the most important for predicting the price of a diamond? How is that variable correlated with cut? Why does the combination of those two relationships lead to lower quality diamonds being more expensive?</li>
</ol>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="exploratory-data-analysis.html#cb46-1"></a><span class="kw">head</span>(diamonds)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 10
##   carat cut       color clarity depth table price     x     y     z
##   &lt;dbl&gt; &lt;ord&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  0.23 Ideal     E     SI2      61.5    55   326  3.95  3.98  2.43
## 2  0.21 Premium   E     SI1      59.8    61   326  3.89  3.84  2.31
## 3  0.23 Good      E     VS1      56.9    65   327  4.05  4.07  2.31
## 4  0.29 Premium   I     VS2      62.4    58   334  4.2   4.23  2.63
## 5  0.31 Good      J     SI2      63.3    58   335  4.34  4.35  2.75
## 6  0.24 Very Good J     VVS2     62.8    57   336  3.94  3.96  2.48</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="exploratory-data-analysis.html#cb48-1"></a><span class="co"># separate categorical features</span></span>
<span id="cb48-2"><a href="exploratory-data-analysis.html#cb48-2"></a>new_diamonds &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span></span>
<span id="cb48-3"><a href="exploratory-data-analysis.html#cb48-3"></a><span class="st">  </span><span class="kw">gather</span>(<span class="dt">key=</span>feature, <span class="dt">value=</span>value, <span class="op">-</span>price) <span class="op">%&gt;%</span></span>
<span id="cb48-4"><a href="exploratory-data-analysis.html#cb48-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">feature_type =</span> <span class="kw">ifelse</span>(feature <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;cut&#39;</span>, <span class="st">&#39;color&#39;</span>, <span class="st">&#39;clarity&#39;</span>),</span>
<span id="cb48-5"><a href="exploratory-data-analysis.html#cb48-5"></a>                <span class="st">&#39;cat&#39;</span>, <span class="st">&#39;cont&#39;</span>))</span></code></pre></div>
<pre><code>## Warning: attributes are not identical across measure variables;
## they will be dropped</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="exploratory-data-analysis.html#cb50-1"></a>cats &lt;-<span class="st"> </span>new_diamonds <span class="op">%&gt;%</span></span>
<span id="cb50-2"><a href="exploratory-data-analysis.html#cb50-2"></a><span class="st">  </span><span class="kw">filter</span>(feature_type <span class="op">==</span><span class="st"> &#39;cat&#39;</span>)</span>
<span id="cb50-3"><a href="exploratory-data-analysis.html#cb50-3"></a>cont &lt;-<span class="st"> </span>new_diamonds <span class="op">%&gt;%</span></span>
<span id="cb50-4"><a href="exploratory-data-analysis.html#cb50-4"></a><span class="st">  </span><span class="kw">filter</span>(feature_type <span class="op">==</span><span class="st"> &#39;cont&#39;</span>)</span>
<span id="cb50-5"><a href="exploratory-data-analysis.html#cb50-5"></a>  </span>
<span id="cb50-6"><a href="exploratory-data-analysis.html#cb50-6"></a></span>
<span id="cb50-7"><a href="exploratory-data-analysis.html#cb50-7"></a><span class="co"># plot the continuous features against price to visualize relationships  </span></span>
<span id="cb50-8"><a href="exploratory-data-analysis.html#cb50-8"></a><span class="kw">ggplot</span>(cont) <span class="op">+</span></span>
<span id="cb50-9"><a href="exploratory-data-analysis.html#cb50-9"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x=</span>value, <span class="dt">y=</span>price)) <span class="op">+</span></span>
<span id="cb50-10"><a href="exploratory-data-analysis.html#cb50-10"></a><span class="st">  </span><span class="kw">facet_wrap</span>(. <span class="op">~</span><span class="st"> </span>feature, <span class="dt">scales=</span><span class="st">&#39;free_x&#39;</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="exploratory-data-analysis.html#cb51-1"></a><span class="co"># plot categorical features</span></span>
<span id="cb51-2"><a href="exploratory-data-analysis.html#cb51-2"></a><span class="kw">ggplot</span>(cats) <span class="op">+</span></span>
<span id="cb51-3"><a href="exploratory-data-analysis.html#cb51-3"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>value, <span class="dt">y=</span>price)) <span class="op">+</span></span>
<span id="cb51-4"><a href="exploratory-data-analysis.html#cb51-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(. <span class="op">~</span><span class="st"> </span>feature, <span class="dt">scales=</span><span class="st">&#39;free&#39;</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-29-2.png" width="672" /></p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="exploratory-data-analysis.html#cb52-1"></a><span class="kw">summary</span>(<span class="kw">lm</span>(price <span class="op">~</span><span class="st"> </span>., <span class="dt">data=</span>diamonds))</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = price ~ ., data = diamonds)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -21376.0   -592.4   -183.5    376.4  10694.2 
## 
## Coefficients:
##              Estimate Std. Error  t value Pr(&gt;|t|)    
## (Intercept)  5753.762    396.630   14.507  &lt; 2e-16 ***
## carat       11256.978     48.628  231.494  &lt; 2e-16 ***
## cut.L         584.457     22.478   26.001  &lt; 2e-16 ***
## cut.Q        -301.908     17.994  -16.778  &lt; 2e-16 ***
## cut.C         148.035     15.483    9.561  &lt; 2e-16 ***
## cut^4         -20.794     12.377   -1.680  0.09294 .  
## color.L     -1952.160     17.342 -112.570  &lt; 2e-16 ***
## color.Q      -672.054     15.777  -42.597  &lt; 2e-16 ***
## color.C      -165.283     14.725  -11.225  &lt; 2e-16 ***
## color^4        38.195     13.527    2.824  0.00475 ** 
## color^5       -95.793     12.776   -7.498 6.59e-14 ***
## color^6       -48.466     11.614   -4.173 3.01e-05 ***
## clarity.L    4097.431     30.259  135.414  &lt; 2e-16 ***
## clarity.Q   -1925.004     28.227  -68.197  &lt; 2e-16 ***
## clarity.C     982.205     24.152   40.668  &lt; 2e-16 ***
## clarity^4    -364.918     19.285  -18.922  &lt; 2e-16 ***
## clarity^5     233.563     15.752   14.828  &lt; 2e-16 ***
## clarity^6       6.883     13.715    0.502  0.61575    
## clarity^7      90.640     12.103    7.489 7.06e-14 ***
## depth         -63.806      4.535  -14.071  &lt; 2e-16 ***
## table         -26.474      2.912   -9.092  &lt; 2e-16 ***
## x           -1008.261     32.898  -30.648  &lt; 2e-16 ***
## y               9.609     19.333    0.497  0.61918    
## z             -50.119     33.486   -1.497  0.13448    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1130 on 53916 degrees of freedom
## Multiple R-squared:  0.9198, Adjusted R-squared:  0.9198 
## F-statistic: 2.688e+04 on 23 and 53916 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>Based on the plots and the lm output, carat seems to have a huge effect on the price of a diamon as well.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="exploratory-data-analysis.html#cb54-1"></a><span class="kw">ggplot</span>(diamonds) <span class="op">+</span></span>
<span id="cb54-2"><a href="exploratory-data-analysis.html#cb54-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>cut, <span class="dt">y=</span>carat))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p>We see that the carat value tends to be higher for the Fair cut diamonds. This combination of high carats with Fair cuts drives prices higher for lower quality cuts.</p>
<ol start="3" style="list-style-type: decimal">
<li>Install the ggstance package, and create a horizontal boxplot. How does this compare to using <code>coord_flip</code>?</li>
</ol>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="exploratory-data-analysis.html#cb55-1"></a><span class="co"># use ggstance</span></span>
<span id="cb55-2"><a href="exploratory-data-analysis.html#cb55-2"></a><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(hwy, class, <span class="dt">fill=</span><span class="kw">factor</span>(cyl))) <span class="op">+</span></span>
<span id="cb55-3"><a href="exploratory-data-analysis.html#cb55-3"></a><span class="st">  </span><span class="kw">geom_boxploth</span>()</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="exploratory-data-analysis.html#cb56-1"></a><span class="co"># Horizontal with coord_flip()</span></span>
<span id="cb56-2"><a href="exploratory-data-analysis.html#cb56-2"></a><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(class, hwy, <span class="dt">fill =</span> <span class="kw">factor</span>(cyl))) <span class="op">+</span></span>
<span id="cb56-3"><a href="exploratory-data-analysis.html#cb56-3"></a><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></span>
<span id="cb56-4"><a href="exploratory-data-analysis.html#cb56-4"></a><span class="st">  </span><span class="kw">coord_flip</span>()</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-31-2.png" width="672" /></p>
<p>Both methods produce the same plots, but the syntax to create these differ. The ggstance syntax is a bit more intuitive, but doesn’t make a huge difference.</p>
<ol start="4" style="list-style-type: decimal">
<li>One problem with boxplots is that they were developed in an era of much smaller datasets and tend to display a prohibitively large number of “outlying values”. One approach to remedy this problem is the letter value plot. Install the lvplot package and try to use <code>geom_lv()</code> to display the distribution of price vs cut. What do you learn? How do you interpret the plots?</li>
</ol>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="exploratory-data-analysis.html#cb57-1"></a><span class="kw">ggplot</span>(diamonds) <span class="op">+</span></span>
<span id="cb57-2"><a href="exploratory-data-analysis.html#cb57-2"></a><span class="st">  </span><span class="kw">geom_lv</span>(<span class="kw">aes</span>(<span class="dt">x=</span>cut, <span class="dt">y=</span>price, <span class="dt">fill=</span>cut))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="exploratory-data-analysis.html#cb58-1"></a><span class="kw">ggplot</span>(diamonds) <span class="op">+</span></span>
<span id="cb58-2"><a href="exploratory-data-analysis.html#cb58-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>cut, <span class="dt">y=</span>price, <span class="dt">fill=</span>cut))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-32-2.png" width="672" /></p>
<p>These letter-value plots give us more information beyond the quantiles of the boxplot. We see that the middle box represents the same information as boxplots, and each subsequent box that branches off of the middle encompasses 50% of the remaining data. We see that the boxes stretch further for the Very Good and Premium cuts, meaning that more people are paying higher values for those cuts. When a box is short, it means that more people are not paying very much more than the last value depicted by the previous box. These plots give us more information about the distribution of outliers and it makes sense to visualize larger data where outliers will be more numerous. One misleading feature is that the width of the boxes do not represent anything. It seems like violin plots are more intuitive than these letter-value plots.</p>
<ol start="5" style="list-style-type: decimal">
<li><p>Compare and contrast <code>geom_violin()</code> with a facetted <code>geom_histogram()</code>, or a coloured <code>geom_freqpoly()</code>. What are the pros and cons of each method?</p></li>
<li><p>If you have a small dataset, it’s sometimes useful to use <code>geom_jitter()</code> to see the relationship between a continous and categorical variable. The ggbeeswarm package provides a number of methods similar to <code>geom_jitter()</code>. List them and briefly describe what each one does.</p></li>
</ol>
</div>
</div>
<div id="two-categorical-variables" class="section level3">
<h3><span class="header-section-number">7.5.2</span> Two Categorical variables</h3>
<p>To visualize covariation between categorical variables, you’ll need to count the number of observations for each combination. One way to do this is to use <code>geom_count()</code>:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="exploratory-data-analysis.html#cb59-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) <span class="op">+</span></span>
<span id="cb59-2"><a href="exploratory-data-analysis.html#cb59-2"></a><span class="st">  </span><span class="kw">geom_count</span>(<span class="kw">aes</span>(<span class="dt">x=</span>cut, <span class="dt">y=</span>color))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<p>The size of each circle represents the count at each categorical combination. Covariation will appear as strong correlation between specific x values and specific y values.</p>
<p>Another approach is to compute the count with dplyr:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="exploratory-data-analysis.html#cb60-1"></a>diamonds <span class="op">%&gt;%</span></span>
<span id="cb60-2"><a href="exploratory-data-analysis.html#cb60-2"></a><span class="st">  </span><span class="kw">count</span>(color, cut)</span></code></pre></div>
<pre><code>## # A tibble: 35 x 3
##    color cut           n
##    &lt;ord&gt; &lt;ord&gt;     &lt;int&gt;
##  1 D     Fair        163
##  2 D     Good        662
##  3 D     Very Good  1513
##  4 D     Premium    1603
##  5 D     Ideal      2834
##  6 E     Fair        224
##  7 E     Good        933
##  8 E     Very Good  2400
##  9 E     Premium    2337
## 10 E     Ideal      3903
## # ... with 25 more rows</code></pre>
<p>Then visualize with <code>geom_tile()</code> and the fill aesthetic:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="exploratory-data-analysis.html#cb62-1"></a>diamonds <span class="op">%&gt;%</span></span>
<span id="cb62-2"><a href="exploratory-data-analysis.html#cb62-2"></a><span class="st">  </span><span class="kw">count</span>(color, cut) <span class="op">%&gt;%</span></span>
<span id="cb62-3"><a href="exploratory-data-analysis.html#cb62-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>color, <span class="dt">y=</span>cut)) <span class="op">+</span></span>
<span id="cb62-4"><a href="exploratory-data-analysis.html#cb62-4"></a><span class="st">  </span><span class="kw">geom_tile</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">fill=</span>n))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<p>If the categorical variables are unordered, you might want to use the seriation package to simultaneously reorder the rows and columns in order to more clearly reveal interesting patterns. For larger plots, you might want to try d3heatmap or heatmaply packages, which create interactive plots.</p>
<div id="exercises-15" class="section level4">
<h4><span class="header-section-number">7.5.2.1</span> Exercises</h4>
<ol style="list-style-type: decimal">
<li>How could you rescale the count dataset above to more clearly show the distribution of cut within colour, or colour within cut?</li>
</ol>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="exploratory-data-analysis.html#cb63-1"></a>diamonds <span class="op">%&gt;%</span></span>
<span id="cb63-2"><a href="exploratory-data-analysis.html#cb63-2"></a><span class="st">  </span><span class="kw">count</span>(color, cut) <span class="op">%&gt;%</span></span>
<span id="cb63-3"><a href="exploratory-data-analysis.html#cb63-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">log_n =</span> <span class="kw">log10</span>(n)) <span class="op">%&gt;%</span></span>
<span id="cb63-4"><a href="exploratory-data-analysis.html#cb63-4"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>color, <span class="dt">y=</span>cut)) <span class="op">+</span></span>
<span id="cb63-5"><a href="exploratory-data-analysis.html#cb63-5"></a><span class="st">  </span><span class="kw">geom_tile</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">fill=</span>log_n))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
<p>We can take log values to get a better idea of how the counts are distributed.</p>
<ol start="2" style="list-style-type: decimal">
<li>Use <code>geom_tile()</code> together with dplyr to explore how average flight delays vary by destination and month of year. What makes the plot difficult to read? How could you improve it?</li>
</ol>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="exploratory-data-analysis.html#cb64-1"></a>flights <span class="op">%&gt;%</span></span>
<span id="cb64-2"><a href="exploratory-data-analysis.html#cb64-2"></a><span class="st">  </span><span class="kw">group_by</span>(dest, month) <span class="op">%&gt;%</span></span>
<span id="cb64-3"><a href="exploratory-data-analysis.html#cb64-3"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(dep_delay)) <span class="op">%&gt;%</span></span>
<span id="cb64-4"><a href="exploratory-data-analysis.html#cb64-4"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">delays=</span><span class="kw">mean</span>(dep_delay)) <span class="op">%&gt;%</span></span>
<span id="cb64-5"><a href="exploratory-data-analysis.html#cb64-5"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>month, <span class="dt">y=</span>dest)) <span class="op">+</span></span>
<span id="cb64-6"><a href="exploratory-data-analysis.html#cb64-6"></a><span class="st">  </span><span class="kw">geom_tile</span>(<span class="kw">aes</span>(<span class="dt">fill=</span>delays))</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;dest&#39;. You can override using the `.groups` argument.</code></pre>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<p>There were a lot of NA values that made the plot very difficult to read. After removing them, we have a cleaner plot that we could save to a larger file which would be readable. There are still many destinations that make this plot crowded. If we could filter these down to those that we care about or group them, we’d have a cleaner plot. The months would also make more sense if they were factors rather than numerical.</p>
<ol start="3" style="list-style-type: decimal">
<li>Why is it slightly better to use <code>aes(x=color, y=cut)</code> rather than <code>aes(x=cut, y=color)</code> in the example above?</li>
</ol>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="exploratory-data-analysis.html#cb66-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) <span class="op">+</span></span>
<span id="cb66-2"><a href="exploratory-data-analysis.html#cb66-2"></a><span class="st">  </span><span class="kw">geom_count</span>(<span class="kw">aes</span>(<span class="dt">x=</span>cut, <span class="dt">y=</span>color))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="exploratory-data-analysis.html#cb67-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) <span class="op">+</span></span>
<span id="cb67-2"><a href="exploratory-data-analysis.html#cb67-2"></a><span class="st">  </span><span class="kw">geom_count</span>(<span class="kw">aes</span>(<span class="dt">x=</span>color, <span class="dt">y=</span>cut))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-38-2.png" width="672" /></p>
</div>
</div>
<div id="two-continuous-variables" class="section level3">
<h3><span class="header-section-number">7.5.3</span> Two continuous variables</h3>
<p>One great way to visualize the covariation between two continuous variables is with a scatter plot. For example, we can easily see an exponential relationship between the carat size and price of a diamon.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="exploratory-data-analysis.html#cb68-1"></a><span class="kw">ggplot</span>(diamonds) <span class="op">+</span></span>
<span id="cb68-2"><a href="exploratory-data-analysis.html#cb68-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x=</span>carat, <span class="dt">y=</span>price))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
<p>However, scatterplots become less useful as the size of your dataset grows, becaus epoint begin to overplot and pile up into areas of uniform black (as above). You can add the <code>alpha</code> aesthetic to add transparency to help with this.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="exploratory-data-analysis.html#cb69-1"></a><span class="kw">ggplot</span>(diamonds) <span class="op">+</span></span>
<span id="cb69-2"><a href="exploratory-data-analysis.html#cb69-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x=</span>carat, <span class="dt">y=</span>price), <span class="dt">alpha =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">100</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-40-1.png" width="672" /></p>
<p>Using transparency can be challenging for very large datasets. Another solution is to use bin. Previously you used <code>geom_histogram()</code> and <code>geom_freqpoly()</code> to bin in one dimension. Now you’ll learn how to use <code>geom_bin2d()</code> and <code>geom_hex()</code> to bin in two dimensions.</p>
<p><code>geom_bin2d()</code> and <code>geom_hex()</code> divide the coordinate plane into 2d bins and then use a fill color to display how many points fall into each bin. <code>geom_bin2d()</code> creates rectangular bins. <code>geom_hex()</code> creates hexagonal bins. You need to install the hexbin package to use <code>geom_hex()</code>.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="exploratory-data-analysis.html#cb70-1"></a><span class="kw">ggplot</span>(smaller) <span class="op">+</span></span>
<span id="cb70-2"><a href="exploratory-data-analysis.html#cb70-2"></a><span class="st">  </span><span class="kw">geom_bin2d</span>(<span class="kw">aes</span>(<span class="dt">x=</span>carat, <span class="dt">y=</span>price))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-41-1.png" width="672" /></p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="exploratory-data-analysis.html#cb71-1"></a><span class="co"># install.packages(&#39;hexbin&#39;)</span></span>
<span id="cb71-2"><a href="exploratory-data-analysis.html#cb71-2"></a><span class="kw">ggplot</span>(smaller) <span class="op">+</span></span>
<span id="cb71-3"><a href="exploratory-data-analysis.html#cb71-3"></a><span class="st">  </span><span class="kw">geom_hex</span>(<span class="kw">aes</span>(<span class="dt">x=</span>carat, <span class="dt">y=</span>price))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-41-2.png" width="672" /></p>
<p>Another option is to bin one continuous variable so it acts like a categorical variable. Then you can use one of the technique for visualising the combination of a categorical and continuous variable that you learned about. For example, you could bin <code>carat</code> and then for each group, display a boxplot:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="exploratory-data-analysis.html#cb72-1"></a><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x=</span>carat, <span class="dt">y=</span>price)) <span class="op">+</span></span>
<span id="cb72-2"><a href="exploratory-data-analysis.html#cb72-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">group=</span><span class="kw">cut_width</span>(carat, <span class="fl">0.1</span>)))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
<p><code>cut_width(x, width)</code> as used above, divides <code>x</code> into bind of width <code>width</code>. By default, boxplots look roughly the same (apart from the number of outliers) regardless of how many observations there are, so it’s difficult to tell that each boxplot summarises a different number of points. One way to show that is to make the width of the boxplot proportional to the number of points with <code>varwidth=TRUE</code>.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="exploratory-data-analysis.html#cb73-1"></a><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x=</span>carat, <span class="dt">y=</span>price)) <span class="op">+</span></span>
<span id="cb73-2"><a href="exploratory-data-analysis.html#cb73-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">group=</span><span class="kw">cut_width</span>(carat, <span class="fl">0.1</span>)), <span class="dt">varwidth=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-43-1.png" width="672" /></p>
<p>Another approach is to display approximately the same number of points in each bin. That’s the job of <code>cut_number()</code>:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="exploratory-data-analysis.html#cb74-1"></a><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x=</span>carat, <span class="dt">y=</span>price)) <span class="op">+</span></span>
<span id="cb74-2"><a href="exploratory-data-analysis.html#cb74-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">group=</span><span class="kw">cut_number</span>(carat, <span class="dv">20</span>)))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-44-1.png" width="672" /></p>
<div id="exercises-16" class="section level4">
<h4><span class="header-section-number">7.5.3.1</span> Exercises</h4>
<ol style="list-style-type: decimal">
<li>Instead of summarising the conditional distribution with a boxplot, you could use a frequency polygon. What do you need to consider when using <code>cut_width()</code> vs <code>cut_number()</code>? How does that impact a visualisation of the 2d distribution of <code>carat</code> and <code>price</code>?</li>
</ol>
<p><code>cut_width()</code> will give you even bin sizes, but it won’t take into account the number of points within each of those bins. You could use <code>cut_width()</code> in combination with <code>varwidth=TRUE</code> to give an idea of how many points are within each bin. <code>cut_number()</code> will give you bins with the same number of points in the, but the sizes of each bin will differ from one another. If you have bins with unequal numbers of points in them, then it would be more informative to plot this information in the plot. We can see in the plots above how these two different option look. <code>cut_number()</code> offers a much more apparent reflection of the different number of points contained within regions.</p>
<ol start="2" style="list-style-type: decimal">
<li>Visualise the distribution of carat, partitioned by price.</li>
</ol>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="exploratory-data-analysis.html#cb75-1"></a><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x=</span>price, <span class="dt">y=</span>carat)) <span class="op">+</span></span>
<span id="cb75-2"><a href="exploratory-data-analysis.html#cb75-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">group=</span><span class="kw">cut_number</span>(price, <span class="dv">10</span>)))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-45-1.png" width="672" /></p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="exploratory-data-analysis.html#cb76-1"></a><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x=</span>price, <span class="dt">y=</span>carat)) <span class="op">+</span></span>
<span id="cb76-2"><a href="exploratory-data-analysis.html#cb76-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">group=</span><span class="kw">cut_width</span>(price, <span class="dv">1000</span>)))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-45-2.png" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>How does the price distribution of very large diamonds compare to small diamonds? Is it as you expect, or does it surprise you?</li>
</ol>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="exploratory-data-analysis.html#cb77-1"></a><span class="co"># create column for size</span></span>
<span id="cb77-2"><a href="exploratory-data-analysis.html#cb77-2"></a>diamonds <span class="op">%&gt;%</span></span>
<span id="cb77-3"><a href="exploratory-data-analysis.html#cb77-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">size=</span>x<span class="op">*</span>y<span class="op">*</span>z) <span class="op">%&gt;%</span></span>
<span id="cb77-4"><a href="exploratory-data-analysis.html#cb77-4"></a><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb77-5"><a href="exploratory-data-analysis.html#cb77-5"></a><span class="st">  </span><span class="kw">geom_hex</span>(<span class="kw">aes</span>(<span class="dt">x=</span>size, <span class="dt">y=</span>price))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-46-1.png" width="672" /></p>
<p>For the most part, the price increases as size increases. There are a couple of point on this plot that show some diamonds with very large size and relatively low price. The price of these outlier points do not appear to be fully dependent on size.</p>
<ol start="4" style="list-style-type: decimal">
<li>Combine two of the techniques you’ve learned to visualize the combined distribution of cut, carat, and price.</li>
</ol>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="exploratory-data-analysis.html#cb78-1"></a><span class="kw">ggplot</span>(diamonds) <span class="op">+</span></span>
<span id="cb78-2"><a href="exploratory-data-analysis.html#cb78-2"></a><span class="st">  </span><span class="kw">geom_hex</span>(<span class="kw">aes</span>(<span class="dt">x=</span>carat, <span class="dt">y=</span>price)) <span class="op">+</span></span>
<span id="cb78-3"><a href="exploratory-data-analysis.html#cb78-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(. <span class="op">~</span><span class="st"> </span>cut)</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-47-1.png" width="672" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Two dimensional plots reveal outliers that are not visible in one dimonsional plots. For example, some points in the plot below have an unusual combination of x and y values, which makes the points outliers even though their x and y values appear normal when examined separately.</li>
</ol>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="exploratory-data-analysis.html#cb79-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) <span class="op">+</span></span>
<span id="cb79-2"><a href="exploratory-data-analysis.html#cb79-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span></span>
<span id="cb79-3"><a href="exploratory-data-analysis.html#cb79-3"></a><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">11</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">11</span>))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-48-1.png" width="672" /></p>
<p>Why is a scatterplot a better display than a binned plot for this case?</p>
<p>The scatterplot is a better choice here because a binned plot tends to hide the outliers in the bins. For example, in the plot below, you can still see these outliers, but they do not stand out as much as in the scatter plot.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="exploratory-data-analysis.html#cb80-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) <span class="op">+</span></span>
<span id="cb80-2"><a href="exploratory-data-analysis.html#cb80-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y, <span class="dt">group=</span><span class="kw">cut_number</span>(x, <span class="dv">10</span>))) <span class="op">+</span></span>
<span id="cb80-3"><a href="exploratory-data-analysis.html#cb80-3"></a><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">11</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">11</span>))</span></code></pre></div>
<p><img src="R4DS_bookdown_files/figure-html/unnamed-chunk-49-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="skip-section-2" class="section level2">
<h2><span class="header-section-number">7.6</span> Skip section</h2>
<p>Not a lot of coding here so skipping these sections.</p>
</div>
<div id="skip-section-3" class="section level2">
<h2><span class="header-section-number">7.7</span> Skip section</h2>
<p>Not a lot of coding here so skipping these sections.</p>

<div id="refs" class="references">
<div>
<p>Xie, Yihui. 2015. <em>Dynamic Documents with R and Knitr</em>. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. <a href="http://yihui.org/knitr/">http://yihui.org/knitr/</a>.</p>
</div>
<div>
<p>———. 2021. <em>Bookdown: Authoring Books and Technical Documents with R Markdown</em>. <a href="https://CRAN.R-project.org/package=bookdown">https://CRAN.R-project.org/package=bookdown</a>.</p>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="workflow-scripts.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R4DS_bookdown.pdf", "R4DS_bookdown.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
